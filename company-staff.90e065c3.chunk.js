(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"5jQ1":function(e,t,n){e.exports={StaffList:"_2Fbfv",StaffList__Form:"_3ewWW",StaffList__FormAction:"_11iQ8",StaffList__RightAction:"_3URWA",StaffList__SelectAction:"tZJmY",link_disable:"_1z1PW"}},OrLj:function(e,t,n){"use strict";n.r(t);var r=n("2/Rp"),a=n("bx4M"),o=n("kaz8"),i=n("kPKH"),c=n("Vl3Y"),s=n("5rEg"),u=n("Ol7k"),l=n("BvKs"),f=n("tsqr"),d=n("kLXV"),p=n("NJEC"),m=n("BMrR"),h=n("2fM7"),g=n("EIz2"),y=n("f/1f"),b=n("ayp/"),S=n("f9kf"),v=n("aaof"),C=n("Mpt7"),k=n("q1tI"),O=n("peh1"),E=n("lMyb"),w=n("JPx8"),j=n("NQij"),N=n("7X4A");function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){return(L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,c,"next",e)}function c(e){T(o,r,a,i,c,"throw",e)}i(void 0)})}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==L(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A,M=c.a.Item,D=h.a.Option,V={labelCol:{span:6},wrapperCol:{span:16}},U=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=I(this,R(t).call(this,e))).getDictionaryList=function(){var e=P(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.e)({parentDictionaryCode:t});case 2:if("success"!==(n=e.sent).result){e.next=5;break}return e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=function(){var e=n.props,t=e.form,r=e.onConfirm,a=t.getFieldValue;t.validateFields(function(e,t){e||r(Object.assign(a("utmsUsersId")?{utmsUsersId:a("utmsUsersId")}:{},t))})},n.handleClose=function(){n.setState({checkedDepartment:"",checkedPosition:""}),n.props.onClose()},n.removeOption=function(){var e=P(regeneratorRuntime.mark(function e(t,r){var a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.form.getFieldValue,n.setState({checkedDepartment:a("departmentNames"),checkedPosition:a("postNames")}),o={bizType:t,dictionaryCode:r},e.next=5,Object(N.c)(o);case 5:if("success"!==e.sent.result){e.next=14;break}return i={},e.t0=C.fromJS,e.next=11,n.getDictionaryList(o.bizType);case 11:e.t1=e.sent,i[o.bizType+"List"]=(0,e.t0)(e.t1),n.setState(i);case 14:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.addOption=function(){var e=P(regeneratorRuntime.mark(function e(t,r){var a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.form.getFieldValue,n.setState({checkedDepartment:a("departmentNames"),checkedPosition:a("postNames")}),o={bizType:t,dictionaryCode:r},e.next=5,Object(N.a)(o);case 5:if("success"!==e.sent.result){e.next=14;break}return i={},e.t0=C.fromJS,e.next=11,n.getDictionaryList(o.bizType);case 11:e.t1=e.sent,i[o.bizType+"List"]=(0,e.t0)(e.t1),n.setState(i);case 14:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.addToForm=function(e,t){var r=n.props.form;"department"===e?r.setFieldsValue({departmentNames:t.filter(function(e){return e.checked}).map(function(e){return e.value}).join(",")}):r.setFieldsValue({postNames:t.filter(function(e){return e.checked}).map(function(e){return e.value}).join(",")})},n.state={resetSelect:!1,checkedDepartment:"",checkedPosition:"",departmentList:Object(C.List)(),positionList:Object(C.List)()},n}var n,r,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,k["PureComponent"]),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){e.visible&&!this.props.visible?this.setState({resetSelect:!0}):this.setState({resetSelect:!1})}},{key:"componentDidMount",value:(o=P(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDictionaryList("department");case 2:return t=e.sent,e.next=5,this.getDictionaryList("position");case 5:n=e.sent,this.setState({departmentList:Object(C.fromJS)(t),positionList:Object(C.fromJS)(n)});case 7:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"renderEditor",value:function(){var e=this,t=this.props,n=t.form,r=t.companyTree,a=t.selectedNode,o=t.formValue,i=n.getFieldDecorator,u=n.getFieldValue,l=this.state,f=l.checkedDepartment,d=l.checkedPosition,p=l.departmentList,m=l.positionList,g=u("departmentNames")||"",y=u("postNames")||"",b=a,S=r.map(function(e,t){return k.createElement(D,{key:e.get("organizationCode")},e.get("organizationName"))}),v=(g+","+f).split(","),C=(y+","+d).split(","),O={options:p.filter(function(e){return e.get("dictionaryCode")}).map(function(e){return{value:e.get("dictionaryName"),key:e.get("dictionaryCode"),checked:v.includes(e.get("dictionaryName"))}}).toArray(),placeholder:"\u9009\u62e9\u6240\u5c5e\u90e8\u95e8",addInputPlaceHolder:"\u8bf7\u8f93\u5165\u6dfb\u52a0\u90e8\u95e8\u7684\u540d\u79f0",addBtnText:"\u6dfb\u52a0\u90e8\u95e8",resetSelect:this.state.resetSelect,tagSize:5,optionSize:20,removeOption:function(t){return e.removeOption("department",t)},addOption:function(t){return e.addOption("department",t)},addToForm:function(t){return e.addToForm("department",t)}},E={options:m.filter(function(e){return e.get("dictionaryCode")}).map(function(e){return{value:e.get("dictionaryName"),key:e.get("dictionaryCode"),checked:C.includes(e.get("dictionaryName"))}}).toArray(),placeholder:"\u9009\u62e9\u6240\u5c5e\u5c97\u4f4d",addInputPlaceHolder:"\u8bf7\u8f93\u5165\u6dfb\u52a0\u5c97\u4f4d\u7684\u540d\u79f0",addBtnText:"\u6dfb\u52a0\u5c97\u4f4d",resetSelect:this.state.resetSelect,isMuti:!0,tagSize:5,optionSize:20,removeOption:function(t){return e.removeOption("position",t)},addOption:function(t){return e.addOption("position",t)},addToForm:function(t){return e.addToForm("position",t)}};return k.createElement(c.a,null,k.createElement(M,x({},V,{label:"\u7528\u6237\u540d",required:!0}),i("userName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(k.createElement(s.a,{placeholder:"\u5982\u5de5\u53f7\uff0c\u59d3\u540d\uff0c\u5e38\u7528\u540d\u7b49\uff0c\u7528\u4e8e\u767b\u5f55\u7cfb\u7edf\u4f7f\u7528",autoComplete:"off",maxLength:60,disabled:!!o.get("userName")}))),k.createElement(M,x({},V,{label:"\u59d3\u540d",required:!0}),i("realName",{rules:[{required:!0,message:"\u8f93\u5165\u5458\u5de5\u771f\u5b9e\u59d3\u540d"}]})(k.createElement(s.a,{placeholder:"\u8f93\u5165\u5458\u5de5\u771f\u5b9e\u59d3\u540d",maxLength:40}))),k.createElement(M,x({},V,{label:"\u6240\u5c5e\u516c\u53f8",required:!0}),i("organizationCode",{initialValue:u("organizationCode")||b,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6240\u5c5e\u516c\u53f8"}]})(k.createElement(h.a,{placeholder:"\u8bf7\u8f93\u5165\u6240\u5c5e\u516c\u53f8",getPopupContainer:function(e){return e.parentNode}},S))),k.createElement(M,x({},V,{label:"\u624b\u673a\u53f7",required:!0}),i("mobileNumber",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:j.b,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7!"}]})(k.createElement(s.a,{placeholder:"\u8f93\u5165\u624b\u673a\u53f7\uff0c\u652f\u6301\u77ed\u4fe1\u9a8c\u8bc1\u7801\u767b\u5f55",maxLength:11}))),k.createElement(M,x({},V,{label:"\u90e8\u95e8"}),i("departmentNames")(k.createElement(w.a,O))),k.createElement(M,x({},V,{label:"\u5c97\u4f4d"}),i("postNames")(k.createElement(w.a,E))))}},{key:"render",value:function(){var e=this.props,t=e.visible,n={title:e.formValue.get("utmsUsersId")?"\u4fee\u6539\u5458\u5de5":"\u65b0\u589e\u5458\u5de5",visible:t,centered:!0,maskClosable:!1,onOk:this.handleSubmit,onCancel:this.handleClose};return k.createElement(d.a,n,this.renderEditor())}}])&&_(n.prototype,r),a&&_(n,a),t}(),K=c.a.create({mapPropsToFields:function(e){var t={},n=e.formValue.toObject();return n.organizationCode?Object.keys(n).map(function(e){t[e]=c.a.createFormField({value:n[e]})}):e.selectedNode&&(t.organizationCode=c.a.createFormField({value:e.selectedNode})),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){z(e,t,n[t])})}return e}({},t)}})(U),q=function(e){return e.get("authorization")},J=(n("aT27"),n("5jQ1")),W=n.n(J);function B(e){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function H(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){H(o,r,a,i,c,"next",e)}function c(e){H(o,r,a,i,c,"throw",e)}i(void 0)})}}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return!t||"object"!==B(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=u.a.Content,te=c.a.Item,ne=h.a.Option,re=(l.a.Item,d.a.confirm),ae=c.a.create()(A=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Z(this,G(t).call(this,e))).paginationChange=function(e){var t=e.skipCount,r=e.pageSize,a=e.current;n.setState({skipCount:t,pageSize:r,current:a}),n.doSearch(e)},n.doSearch=function(e){var t=n.props,r=t.form,a=t.companyTree,o=r.getFieldsValue,i=Object.assign({organizationCode:n.state.selectedNode||a.get(0).get("organizationCode"),status:o().status,keywords:o().keywords,pageSize:n.state.pageSize,skipCount:n.state.skipCount},e);i.keywords=i.keywords?i.keywords.trim():"",n.props.getStaffList(i)},n.onChangeStatus=function(e){n.setState({current:1}),n.doSearch({skipCount:0,status:e})},n.handleSelect=function(e){n.setState({selectedKeys:Object(C.List)([e.get("utmsOrganizationId")+""]),selectedNode:e.get("organizationCode"),current:1}),n.doSearch({skipCount:0,organizationCode:e.get("organizationCode")})},n.handleSubmit=function(e){e.preventDefault();var t=n.state.selectedNode;t?n.doSearch({organizationCode:t,skipCount:0}):n.doSearch({skipCount:0})},n.handleReset=function(){n.props.form.resetFields();var e=n.props.companyTree;n.setState({selectedKeys:Object(C.List)([e.get(0).get("utmsOrganizationId")+""]),selectedNode:e.get(0).get("organizationCode")}),n.doSearch({organizationCode:n.props.companyTree.get(0).get("organizationCode")})},n.handleOpenModal=function(e,t){e?n.props.getStaffDetails(e.userName):n.props.resetStaffDetails(),n.setState({openModal:!0})},n.handleCloseModal=function(){n.setState({openModal:!1})},n.handleEditStaff=function(){var e=X(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.companyTree,a="",r.map(function(e){e.get("organizationCode")===t.organizationCode&&(a=e.get("utmsOrganizationId")+"")}),!t.utmsUsersId){e.next=10;break}return e.next=6,Object(N.h)(t);case 6:"success"===e.sent.result?(f.a.success("\u4fee\u6539\u5458\u5de5\u6210\u529f"),n.setState({openModal:!1,selectedKeys:Object(C.List)([a]),selectedNode:t.organizationCode}),n.doSearch({organizationCode:t.organizationCode})):f.a.error("\u4fee\u6539\u5458\u5de5\u5931\u8d25"),e.next=14;break;case 10:return e.next=12,Object(N.b)(t);case 12:"success"===e.sent.result?(d.a.info({title:"\u5458\u5de5\u521b\u5efa\u6210\u529f",content:"\u7528\u6237\u540d:".concat(t.userName,"\uff0c\u5bc6\u7801123456\uff0c\u8bf7\u767b\u5f55\u7cfb\u7edf\u66f4\u6539\u5bc6\u7801\u3002")}),n.setState({openModal:!1,selectedKeys:Object(C.List)([a]),selectedNode:t.organizationCode}),n.doSearch({organizationCode:t.organizationCode})):f.a.error("\u65b0\u589e\u5458\u5de5\u5931\u8d25");case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.showToggleStatus=function(e){re({title:"",content:"\u7981\u7528\u540e, ".concat(e.realName," \u5c06\u88ab\u9650\u5236\u767b\u5f55\uff0c\u662f\u5426\u7ee7\u7eed\uff1f"),onOk:function(){return n.confirmStatus(e)}})},n.showResetPwd=function(e){re({title:"",content:"\u4f60\u786e\u5b9a\u8981\u91cd\u7f6e ".concat(e.realName," \u7684\u5bc6\u7801\uff1f"),onOk:function(){return n.confirmReset(e)}})},n.confirmStatus=function(){var e=X(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={utmsUsersId:t.utmsUsersId,status:9===t.status?1:9},e.next=3,Object(N.j)(r);case 3:"success"===e.sent.result&&(f.a.success("\u4fee\u6539\u72b6\u6001\u6210\u529f"),n.doSearch());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.confirmReset=function(){var e=X(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.accountInfo.get("domainName"),a={utmsUsersId:t.utmsUsersId,userName:t.userName,operateType:"RESET"},e.next=4,Object(N.i)(a);case 4:"success"===e.sent.result&&d.a.info({title:"\u5bc6\u7801\u91cd\u7f6e\u6210\u529f",content:"\u5bc6\u7801\u5df2\u91cd\u7f6e\uff0c\u65b0\u5bc6\u7801\u4e3a\uff1a"+r+"123456"});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.renderSearchParams=function(){var e=n.props.form.getFieldDecorator;return k.createElement(c.a,{className:W.a.StaffList__Form,layout:"inline",onSubmit:n.handleSubmit},k.createElement(m.a,{type:"flex"},k.createElement(i.a,{span:20},k.createElement(te,{label:"\u72b6\u6001"},e("status",{initialValue:"1"})(k.createElement(h.a,{className:W.a.StaffList__SelectAction,onSelect:n.onChangeStatus},k.createElement(ne,{value:"1"},"\u751f\u6548\u4e2d"),k.createElement(ne,{value:"9"},"\u5df2\u4f5c\u5e9f"),k.createElement(ne,{value:""},"\u5168\u90e8")))),k.createElement(te,{label:"\u5173\u952e\u8bcd\u641c\u7d22"},e("keywords")(k.createElement(s.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d/\u59d3\u540d/\u624b\u673a\u53f7",style:{width:"180px"}}))),k.createElement(te,{className:W.a.StaffList__FormAction},k.createElement(r.a,{type:"primary",htmlType:"submit"},"\u67e5 \u8be2"),k.createElement(r.a,{onClick:n.handleReset},"\u91cd \u7f6e"))),k.createElement(i.a,{span:4,className:W.a.StaffList__RightAction},k.createElement(r.a,{type:"primary",onClick:function(){return n.handleOpenModal()}},"\u65b0\u589e\u5458\u5de5"))))},n.renderStaffOperation=function(e,t,r,a,o){return k.createElement(k.Fragment,null,k.createElement(y.a,null,[r.includes("edit")&&k.createElement("a",{href:"javascript:;",onClick:function(){return n.handleOpenModal(t,e)}},"\u4fee\u6539",t.isChecked)].concat(Q(o.map(function(e){return"status"===e?k.createElement("a",{onClick:function(){return n.showToggleStatus(t)}},"\u7981\u7528"):"reset"===e?k.createElement("a",{onClick:function(){return n.showResetPwd(t)}},"\u91cd\u7f6e"):"auth"===e?k.createElement("a",{onClick:function(){return n.showAuthModal(t)}},"\u6743\u9650"):void 0})))))},n.hanldUsers=function(e){var t=Object(C.List)();e?t=t.push(e):t=n.props.staffList.filter(function(e){return e.get("isChecked")}).map(function(e){return e.toObject()});n.setState({authStaff:t})},n.showAuthModal=function(e){n.hanldUsers(e),n.setState({openAuthModal:!0})},n.handleCancel=function(){n.setState({openAuthModal:!1})},n.state={openModal:!1,openAuthModal:!1,authStaff:Object(C.List)(),skipCount:0,pageSize:15,current:1,selectedKeys:Object(C.List)(),selectedNode:""},n}var n,l,O;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,k["PureComponent"]),n=t,(l=[{key:"componentDidMount",value:function(){this.props.getCompanyTree()}},{key:"renderTable",value:function(){var e=this,t=this.props,n=t.dataCount,a=t.staffList,i=t.loading,c=t.onAllCheckChanged,s=t.permissions,u=t.accountInfo.get("versionsCode"),l=[];s.toArray().map(function(e){return l.push(e.get("operateKey"))});var f=l.filter(function(e){return"edit"!==e}),d=l.includes("edit")&&f.length>0,m=this.state.current,h=this.state,y=h.openAuthModal,S=h.authStaff,C=a.map(function(e){return e.toObject()}).toArray(),O={columns:[{width:40,key:"checkbox",render:function(t){if(l.includes("auth")&&1===t.status)return k.createElement(o.a,{checked:t.isChecked,onChange:function(){return e.props.onCheckedChanged(t)}})}},{title:"\u7528\u6237\u540d",dataIndex:"userName",render:function(e,t){return e||E.a.emptyRecord}},{title:"\u59d3\u540d",dataIndex:"realName",render:function(e,t){return e||E.a.emptyRecord}},{title:"\u624b\u673a\u53f7",dataIndex:"mobileNumber",render:function(e,t){return e||E.a.emptyRecord}},{title:"\u90e8\u95e8",dataIndex:"departmentNames",render:function(e,t){return e||E.a.emptyRecord}},{title:"\u5c97\u4f4d",dataIndex:"postNames",render:function(e,t){return e||E.a.emptyRecord}},{title:"\u64cd\u4f5c",key:"action",dataIndex:"action",render:function(t,n){return k.createElement(k.Fragment,null,1===n.status?e.renderStaffOperation(t,n,l,d,f):k.createElement(p.a,{title:"\u786e\u8ba4\u8981\u542f\u7528\u8be5\u5458\u5de5\uff1f",onConfirm:function(){return e.confirmStatus(n)}},k.createElement("a",{href:"javascript:;"},"\u542f\u7528")))}}],dataSource:a.map(function(e){return{userName:e.get("userName"),realName:e.get("realName"),mobileNumber:e.get("mobileNumber"),departmentNames:e.get("departmentNames"),postNames:e.get("postNames"),isChecked:e.get("isChecked"),utmsUsersId:e.get("utmsUsersId"),status:e.get("status")}}).toArray(),loading:i,pagination:{current:m,total:n,onChange:this.paginationChange,onShowSizeChange:this.paginationChange},rowKey:"userName"},w=C.filter(function(e){return e.isChecked}).length,j=C.filter(function(e){return 1===e.status}).length,N=w<1;return k.createElement(k.Fragment,null,k.createElement(g.a,O),l.includes("auth")?k.createElement(b.a,{leftChild:k.createElement(b.c,{total:j,checked:w,onAllCheckChanged:c}),rightChild:k.createElement(b.b,{buttons:[k.createElement(r.a,{key:"auth",type:"primary",disabled:N,onClick:function(){return e.showAuthModal()}},"\u6279\u91cf\u5206\u914d\u6743\u9650")]})}):"",k.createElement(v.a,{versionsCode:u,visible:y,onClose:this.handleCancel,onOk:this.handleCancel,staff:S.toArray()}))}},{key:"renderContent",value:function(){return k.createElement(a.a,null,this.renderSearchParams(),this.renderTable())}},{key:"render",value:function(){var e=this.props,t=e.companyTree,n=e.pickStaff,r=this.state,a=r.selectedKeys,o=r.selectedNode,i=a.size>0?a:t.get(0)?Object(C.List)([t.get(0).get("utmsOrganizationId")+""]):Object(C.List)(),c=o.length>0?o:t.get(0)?t.get(0).get("organizationCode"):"";return k.createElement(k.Fragment,null,k.createElement(u.a,{className:"staffLayout"},k.createElement(S.a,{companyTree:t,handleSelect:this.handleSelect,selectedKeys:i}),k.createElement(u.a,{style:{background:"#fff"}},k.createElement(ee,null,this.renderContent()))),k.createElement(K,{formValue:Object(C.fromJS)(n),visible:this.state.openModal,onConfirm:this.handleEditStaff,onClose:this.handleCloseModal,refreshDictionary:this.refreshDictionary,companyTree:t,selectedNode:c}))}}])&&Y(n.prototype,l),O&&Y(n,O),t}())||A;t.default=function(e){var t=e.routeId;return(0,e.connectModel)(function(e){var n,r=function(e){return e.get(t)};return{mapStateToProps:Object(O.createStructuredSelector)({error:(n=r,Object(O.createSelector)(n,function(e){return e.get("error")})),loading:function(e){return Object(O.createSelector)(e,function(e){return e.get("loading")})}(r),companyTree:function(e){return Object(O.createSelector)(e,function(e){return e.get("companyTree")})}(r),staffList:function(e){return Object(O.createSelector)(e,function(e){return e.get("staffList")})}(r),pickStaff:function(e){return Object(O.createSelector)(e,function(e){return e.get("pickStaff")})}(r),dataCount:function(e){return Object(O.createSelector)(e,function(e){return e.get("dataCount")})}(r),accountInfo:Object(O.createSelector)(q,function(e){return e.get("accountInfo")})}),mapDispatchToProps:function(t){return{getCompanyTree:function(){return t(e.getCompanyTree())},getStaffList:function(n){return t(e.getStaffList(n))},onAllCheckChanged:function(n){return t(e.allCheckedChanged(n))},onCheckedChanged:function(n){return t(e.checkedChanged(n))},getStaffDetails:function(n){return t(e.getStaffDetails(n))},resetStaffDetails:function(){return t(e.resetStaffDetails())}}}}})(ae)}},aT27:function(e,t,n){}}]);
//# sourceMappingURL=company-staff.90e065c3.chunk.js.map