(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"3iiA":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n("/MKj"),o=n("2iEm"),c=n("ANjH"),i=n("peh1"),u=n("bHVt"),l=n("jqF8"),s=n.n(l),p=n("2/Rp"),d=n("bx4M"),f=n("+eQT"),g=n("Vl3Y"),m=n("ocjk"),h=n("5rEg"),y=n("NJEC"),b=n("2fM7"),S=n("W9HT"),v=n("3o1r"),O=n("EIz2"),C=n("ayp/");function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){k(e,t,n[t])})}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e,t){return!t||"object"!==w(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=f.a.RangePicker,T=b.a.Option,F=[{title:"\u914d\u8f7d\u5355ID",dataIndex:"utmsPartGroupId",render:function(e){return a.createElement(o.a,{to:"/stowageManage/stowageDetail?partGroupId=".concat(e)},e)}},{title:"\u914d\u8f7d\u5355\u540d\u79f0",dataIndex:"name"},{title:"\u5ba2\u6237\u540d\u79f0",dataIndex:"customerName"},{title:"\u751f\u6210\u65f6\u95f4",dataIndex:"gmtCreate"},{title:"\u6536\u8d27\u70b9\u6570",dataIndex:"orderCount"},{title:" \u603b\u91cd\u91cf(\u5343\u514b)",dataIndex:"weight"},{title:"\u603b\u4f53\u79ef(\u65b9)",dataIndex:"volume"},{title:"\u72b6\u6001",dataIndex:"status"}],H=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=P(this,(e=x(t)).call.apply(e,[this].concat(r)))).state={selectedRowKeys:[],skipCount:0,pageSize:15,current:1},n.paginationChange=function(e){var t=e.skipCount,a=e.pageSize,r=e.current;n.setState({skipCount:t,pageSize:a,current:r}),n.onSelectChange([]),n.fetchDataFun({skipCount:t,pageSize:a})},n.onSelectChange=function(e){n.setState({selectedRowKeys:e})},n.onAllCheckChanged=function(e){var t=n.props.data.toJS();if(e){var a=[];t.map(function(e){"\u5f85\u53d1\u8d27"===e.status&&a.push(e.utmsPartGroupId)}),n.setState({selectedRowKeys:a})}else n.setState({selectedRowKeys:[]})},n.putSHipGoodsHandle=function(){var e=n.state,t=e.selectedRowKeys,a=e.pageSize,r=e.skipCount,o=n.props.form.getFieldsValue(),c=o.createDate,i=j(o,["createDate"]),l=c?Object(u.c)(c[0]):void 0,s=c?Object(u.a)(c[1]):void 0;n.props.putShipGoods(E({partGroupIds:t,createDateStart:l,createDateEnd:s},i,{pageSize:a,skipCount:r}))},n.delGroupHandle=function(){var e=n.state,t=e.selectedRowKeys,a=e.pageSize,r=e.skipCount,o=n.props.form.getFieldsValue(),c=o.createDate,i=j(o,["createDate"]),l=c?Object(u.c)(c[0]):void 0,s=c?Object(u.a)(c[1]):void 0;n.props.delGroup(E({partGroupIds:t,createDateStart:l,createDateEnd:s},i,{pageSize:a,skipCount:r}))},n.searchHandle=function(){n.onSelectChange([]),n.setState({formValues:{},skipCount:0,current:1}),n.fetchDataFun()},n.reSetHandle=function(){n.props.form.resetFields(),n.searchHandle()},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,a["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){this.fetchDataFun()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){(this.props.shipOk||this.props.delOk)&&this.onSelectChange([])}},{key:"getFields",value:function(){var e=this,t=this.props.form,n=t.getFieldDecorator;t.getFieldValue;return a.createElement(g.a,{layout:"inline"},a.createElement(m.a,{label:"\u8ba2\u5355\u5206\u7ec4\u540d\u79f0"},n("name")(a.createElement(h.a,{placeholder:"\u8bf7\u8f93\u5165\u8ba2\u5355\u5206\u7ec4\u540d\u79f0"}))),a.createElement(m.a,{label:"\u72b6\u6001"},n("status",{initialValue:""})(a.createElement(b.a,{style:{width:"90px"}},a.createElement(T,{value:""},"\u5168\u90e8"),a.createElement(T,{value:0},"\u5f85\u53d1\u8d27"),a.createElement(T,{value:1},"\u5df2\u53d1\u8d27")))),a.createElement(m.a,{label:"\u4e0b\u5355\u65f6\u95f4"},n("createDate")(a.createElement(I,{style:{width:215}}))),a.createElement(m.a,null,a.createElement(p.a,{onClick:function(){e.searchHandle()},htmlType:"submit",type:"primary"},"\u67e5\u8be2")),a.createElement(m.a,null,a.createElement(p.a,{onClick:this.reSetHandle},"\u91cd\u7f6e")))}},{key:"getTableList",value:function(){var e=this.props,t=e.data,n=e.dataCount,r=e.loading,o=this.state,c=o.selectedRowKeys,i=o.current,u=t?t.map(function(e){return{key:e.get("utmsPartGroupId"),name:e.get("name"),utmsPartGroupId:e.get("utmsPartGroupId"),customerName:e.get("customerName"),gmtCreate:e.get("gmtCreate"),orderCount:e.get("orderCount"),weight:e.get("weight"),volume:e.get("volume"),status:e.get("status")}}).toArray():[],l={selectedRowKeys:c,onChange:this.onSelectChange,getCheckboxProps:function(e){return{disabled:"\u5df2\u53d1\u8d27"===e.status,status:e.status}}},s={current:i,total:n,onChange:this.paginationChange,onShowSizeChange:this.paginationChange};return a.createElement("div",{style:{marginTop:"20px"}},a.createElement(S.a,{spinning:r},a.createElement(O.a,{rowSelection:l,columns:F,dataSource:u,pagination:s})),a.createElement(C.a,{leftChild:a.createElement(C.c,{total:this.allowSelect(),checked:c.length,onAllCheckChanged:this.onAllCheckChanged}),rightChild:a.createElement(C.b,{buttons:[a.createElement(y.a,{title:"\u662f\u5426\u786e\u8ba4\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",key:"3",onConfirm:this.delGroupHandle},a.createElement(p.a,{key:1,type:"primary",disabled:!c.length||r},"\u64a4\u9500\u914d\u8f7d")),a.createElement(p.a,{key:2,type:"primary",disabled:!c.length||r,onClick:this.putSHipGoodsHandle},"\u53d1\u8d27")]})}))}},{key:"render",value:function(){var e=this.props.form.getFieldValue;return a.createElement("div",null,a.createElement("div",{className:s.a.StowageManageTitle},a.createElement("div",{className:s.a.StowageManageTitleTxt},"\u914d\u8f7d\u7ba1\u7406"),a.createElement("div",{className:"btn"},a.createElement(v.a,{url:"/ehuodiGateway/utmsTrade/utmsPartGroup/exportPartGroupList",params:{name:e("name"),status:e("status"),createDateStart:e("createDate")?Object(u.c)(e("createDate")[0]):void 0,careteDateEnd:e("createDate")?Object(u.a)(e("createDate")[1]):void 0}},"\u5bfc\u51fa"))),a.createElement(d.a,null,this.getFields(),this.getTableList()))}},{key:"allowSelect",value:function(){return this.props.data?(this.props.data.toJS()||[]).filter(function(e){return"\u5f85\u53d1\u8d27"===e.status}).length:0}},{key:"fetchDataFun",value:function(e){var t=this.props.form.getFieldsValue(),n=t.createDate,a=j(t,["createDate"]),r=this.state.pageSize,o=n?Object(u.c)(n[0]):void 0,c=n?Object(u.a)(n[1]):void 0;this.props.getList(E({},a,{createDateStart:o,createDateEnd:c,pageSize:r,skipCount:0},e))}}])&&D(n.prototype,r),o&&D(n,o),t}(),R=g.a.create()(H);t.default=function(e){var t=e.routeId,n=e.actions,a=function(e){return e.get(t)},o=Object(i.createStructuredSelector)({data:function(e){return Object(i.createSelector)(e,function(e){return e.get("data")})}(a),dataCount:function(e){return Object(i.createSelector)(e,function(e){return e.get("dataCount")})}(a),error:function(e){return Object(i.createSelector)(e,function(e){return e.get("error")})}(a),loading:function(e){return Object(i.createSelector)(e,function(e){return e.get("loading")})}(a),shipOk:function(e){return Object(i.createSelector)(e,function(e){return e.get("shipOk")})}(a),delOk:function(e){return Object(i.createSelector)(e,function(e){return e.get("delOk")})}(a)}),u=Object(r.connect)(o,function(e){return{getList:function(t){return e(n.getAsyncData(t))},putShipGoods:function(t){return e(n.putShipGoods(t))},delGroup:function(t){return e(n.delGroup(t))},toDetail:function(t){return e(n.toDetail(t))}}});return Object(c.c)(u)(R)}},jqF8:function(e,t,n){e.exports={StowageManageTitle:"_18sqR",StowageManageTitleTxt:"_1HLYl"}}}]);
//# sourceMappingURL=stowage-manage.50642038.chunk.js.map