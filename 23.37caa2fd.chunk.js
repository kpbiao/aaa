(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"/PYH":function(e,t,n){e.exports={CustomerAdd__BottomButton:"hDTot"}},nEm1:function(e,t,n){e.exports={selectOption:"_3AV6_"}},vKVf:function(e,t,n){"use strict";n.r(t);var r=n("2/Rp"),o=n("bx4M"),a=n("kPKH"),c=n("+eQT"),i=n("Vl3Y"),u=n("CtXQ"),s=n("5rEg"),l=n("tsqr"),f=n("kLXV"),p=n("BMrR"),m=n("8z0m"),d=n("SGqP"),h=n("gD9s"),y=n("wd/R"),b=n.n(y),g=n("Qyje"),v=n.n(g),O=n("sy1d"),w=n("bG2F");function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){var t="/ehuodiGateway/utmsCore/utmsCustomercs/addCustomer";return e.utmsCustomerId&&(t="/ehuodiGateway/utmsCore/utmsCustomercs/modifyCustomer"),Object(O.a)({method:"post",url:t,data:S({},e,{salesman:JSON.stringify(e.salesman)})},{useMock:w.h}).then(function(e){return e})},P=function(e){var t=S({},e,{returnFormat:1});return Object(O.a)({method:"post",url:"/ehuodiGateway/utmsCore/utmsDictionarycs/selectCustDictionaryList",data:t,params:t,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){return e})},C=function(e){return Object(O.a)({method:"post",url:"/ehuodiGateway/utmsCore/utmsDictionarycs/delCustUtmsDictionary",data:v.a.stringify(e)},{useMock:!1,globalErrorMsg:!0}).then(function(e){return e})},T=function(e){return Object(O.a)({method:"post",url:"/ehuodiGateway/utmsCore/utmsDictionarycs/createCustUtmsDictionary",data:v.a.stringify(e)},{useMock:!1,globalErrorMsg:!0}).then(function(e){return e})},k=n("2fM7"),D=n("q1tI");var x=function(e){var t={parentDictionaryCode:e||"INDUSTRYS",returnFormat:1};return Object(O.a)({method:"post",url:"/ehuodiGateway/utmsCore/utmsDictionarycs/selectUtmsDictionaryList",data:t,params:t,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},{useMock:w.h}).then(function(e){return e})};function L(e){return(L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==L(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}i.a.Item;var J=k.a.Option,U=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=N(this,A(t).call(this,e))).state=void 0,n.handleChange=function(e){var t=n.state.data,r=n.props.onChange,o={};if(t&&t.length){t.map(function(t){t.dictionaryName===e&&(o={industry:e,industryCode:t.dictionaryCode})});try{r&&r(e,o)}catch(e){}}},n.getIndustrysData=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){R(a,r,o,c,i,"next",e)}function i(e){R(a,r,o,c,i,"throw",e)}c(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.type,e.next=3,x(t);case 3:r=e.sent,n.setState({data:r.data});case 5:case"end":return e.stop()}},e,this)})),n.state={data:[]},n.getIndustrysData(),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,D["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.state.data||[],t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){F(e,t,n[t])})}return e}({},this.props);return D.createElement(k.a,_({showSearch:!0,placeholder:"".concat(t.placeholder?t.placeholder:"\u8bf7\u9009\u62e9\u5ba2\u6237\u884c\u4e1a"),optionFilterProp:"children",style:{width:"100%"}},t,{onChange:this.handleChange}),e.map(function(e){return D.createElement(J,{key:e.dictionaryName},e.dictionaryName)}))}}])&&M(n.prototype,r),o&&M(n,o),t}(),Y=n("JPx8"),z=n("W9HT");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){return Object(O.a)({method:"post",url:"/ehuodiGateway/utmsCore/utmsUserscs/selectUtmsUsersList",data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){q(e,t,n[t])})}return e}({},e,{status:1})},{useMock:w.h}).then(function(e){return e})},B=n("/MKj"),V=n("peh1"),H=n("nEm1"),K=n.n(H),Q=function(e){return e.get("authorization")};function W(e){return(W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return!t||"object"!==W(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}i.a.Item;var oe=k.a.Option,ae=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=te(this,ne(t).call(this,e))).state=void 0,n.getStaffs=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){Z(a,r,o,c,i,"next",e)}function i(e){Z(a,r,o,c,i,"throw",e)}c(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:"",!(n.state.value&&n.state.value.length>=n.props.maxLength)){e.next=3;break}return e.abrupt("return");case 3:if(t=t.replace(/(^\s*)|(\s*$)/g,"")){e.next=6;break}return e.abrupt("return");case 6:return n.setState({staffsData:[],fetching:!0}),e.next=9,G({keywords:t,organizationCode:n.props.userDate.get("organizationCode")});case 9:r=e.sent,n.setState({staffsData:r.data,fetching:!1});case 11:case"end":return e.stop()}},e,this)})),n.handleChange=function(e){(n.state.value||e)&&(n.setState({value:e,staffsData:[],fetching:!1}),n.props.onChange&&n.props.onChange(e))},n.state={staffsData:[],fetching:!1},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,D["PureComponent"]),n=t,(r=[{key:"render",value:function(){var e=this.state,t=e.fetching,n=e.staffsData,r=(e.value,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$(e,t,n[t])})}return e}({},{mode:"multiple",style:{width:"100%"},placeholder:"\u8f93\u5165\u5458\u5de5\u59d3\u540d\u6a21\u7cca\u68c0\u7d22\uff0c\u591a\u9009",notFoundContent:t?D.createElement(z.a,{size:"small"}):null,onChange:this.handleChange,onSearch:this.getStaffs,filterOption:!1},this.props,{labelInValue:!0}));r.onChange=this.handleChange,r.value||(r.value=[]);var o=this.state.value&&this.state.value.length>=this.props.maxLength;return D.createElement(k.a,X({},r,{className:K.a.selectOption}),D.createElement(oe,{key:"a0000",style:{display:o?"":"none"}},D.createElement("span",{style:{color:"#ff0000"}},"\u5df2\u8fbe\u5230\u4e0a\u9650\uff0c\u8bf7\u5220\u9664\u540e\u518d\u6dfb\u52a0\uff01")),n.map(function(e){return D.createElement(oe,{key:e.userName},e.realName,D.createElement("span",{style:{float:"right",fontSize:"12px",color:"#999",marginRight:"20px",width:"4em",whiteSpace:"nowrap",overflow:"hidden",textAlign:"right"}},e.departmentNames))}))}}])&&ee(n.prototype,r),o&&ee(n,o),t}(),ce=Object(V.createStructuredSelector)({userDate:Object(V.createSelector)(Q,function(e){return e.get("userData")})}),ie=Object(B.connect)(ce,function(){return{}})(ae),ue=n("Mpt7"),se=n("/PYH"),le=n.n(se);function fe(e){return(fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){de(e,t,n[t])})}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function ye(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){he(a,r,o,c,i,"next",e)}function i(e){he(a,r,o,c,i,"throw",e)}c(void 0)})}}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return!t||"object"!==fe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=i.a.Item,Se=c.a.RangePicker,Ee=f.a.confirm,je=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ge(this,ve(t).call(this,e))).state=void 0,n.selectedAddress=void 0,n.industyData=void 0,n.handleIndustyPicker=function(e,t){n.industyData=t},n.handleUploadFile=function(e){var t=e.fileList.map(function(e,t){return{attachmentseq:t,attachmenturl:"done"===e.status?e.response.data:""}});n.setState({fileList:t})},n.save=function(){var e=ye(regeneratorRuntime.mark(function e(t){var r,o,a,c,i,u,s,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.data.toJS(),o=t.cooperateDate,a={cooperateBeginDate:o&&o.length?o[0].format("YYYY-MM-DD 00:00:00"):"",cooperateEndDate:o&&o.length?o[1].format("YYYY-MM-DD 23:59:59"):""},c={custAttachments:JSON.stringify(n.state.fileList)},i=me({},t,n.selectedAddress,a,c),u=[],i.salesman&&i.salesman.length&&(i.salesman.map(function(e){u.push({jobcard:e.key,name:e.label[0]})}),i.salesman=u),i.offLimitCarTypes=JSON.stringify(i.offLimitCarTypes),"string"!==typeof i.customerTags&&(s="",i.customerTags.map(function(e){s+=e.key+","}),i.customerTags=s),e.prev=9,e.next=12,j(me({},r,i,n.industyData));case 12:e.sent,i.utmsCustomerId?l.a.success("\u5ba2\u6237\u4fe1\u606f\u4fee\u6539\u6210\u529f"):l.a.success("\u5ba2\u6237\u65b0\u589e\u6210\u529f"),n.props.toList(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),f=e.t0&&e.t0.msg?e.t0.msg:"\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u91cd\u8bd5...",l.a.error(f||"\u64cd\u4f5c\u5931\u8d25");case 21:case"end":return e.stop()}},e,this,[[9,17]])}));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||n.save(t)})},n.onSelectedAddress=function(e){n.selectedAddress=e||{region:"",province:"",city:""}},n.addToForm=function(e,t){var r=n.props.form,o=t.filter(function(e){return e.checked}).map(function(e){return e.value}).join(",");r.setFieldsValue({customerTags:o}),setTimeout(function(){n.setState({customerTags:t.filter(function(e){return e.checked}),customertagList:t})},0)},n.addOption=function(){var e=ye(regeneratorRuntime.mark(function e(t,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={bizType:t,dictionaryCode:r},e.next=3,T(o);case 3:if("success"!==e.sent.result){e.next=7;break}return e.next=7,n.getTags();case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.removeOption=function(){var e=ye(regeneratorRuntime.mark(function e(t,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={bizType:t,dictionaryCode:r},e.next=3,C(o);case 3:if("success"!==e.sent.result){e.next=7;break}return e.next=7,n.getTags();case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),n.getTags=ye(regeneratorRuntime.mark(function e(){var t,r,o,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P({parentDictionaryCode:"customerTags"});case 2:"success"===(t=e.sent).result&&(r=[],o="",a=n.state,c=a.customerTags,a.customertagList,c.map(function(e){o+=e.key+","}),t.data.map(function(e,t){var n=!1;o.includes(e.dictionaryName)&&c.map(function(t){t.key===e.dictionaryName&&(n=t.checked)});var a={key:e.dictionaryName,value:e.dictionaryName,checked:n};r.push(a)}),n.setState({customertagList:r}));case 4:case"end":return e.stop()}},e,this)})),n.cancleEdit=function(e){var t=!1;n.props.form.isFieldsTouched(["customerName"])&&(t=!0),t?Ee({title:"\u6709\u672a\u4fdd\u5b58\u7684\u4fe1\u606f",content:"\u5982\u653e\u5f03\uff0c\u586b\u5199\u7684\u4fe1\u606f\u5c06\u4e22\u5931",okText:"\u7ee7\u7eed\u586b\u5199",cancelText:"\u653e\u5f03",centered:!0,onCancel:function(){e?e():n.props.toList()}}):e?e():n.props.toList()},n.state={customertagList:Object(ue.List)(),customerTags:n.props.data.customerTags||[],fileList:[]},n}var n,c,f;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,D["PureComponent"]),n=t,(c=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.searchParams,r=t.data;n.id&&this.props.getData(n.id),this.setState({customerTags:r.toJS().customerTags||[]}),this.getTags(),this.props.eventEmitter.on("close",function(t,n){"FROM_TAB_CLOSE"===n||"FROM_TAB_REFRESH"===n?e.cancleEdit(t):t()})}},{key:"componentWillReceiveProps",value:function(e){e.data.toJS().customerTags&&(this.setState({customerTags:e.data.toJS().customerTags||[]}),this.getTags())}},{key:"render",value:function(){var e=this,t=this.props.data.toJS().custAttachments,n=this.props.searchParams.id,c=this.state,l={labelCol:{span:5},wrapperCol:{span:16}},f=this.props.form,y=f.getFieldDecorator,b=(f.getFieldValue,f.setFieldsValue,{options:c.customertagList,placeholder:"\u521b\u5efa\u6807\u7b7e\uff0c\u6253\u6807\u5ba2\u6237\uff0c\u5206\u5c42\u7ba1\u7406",addInputPlaceHolder:"\u8bf7\u8f93\u5165\u6dfb\u52a0\u7684\u5ba2\u6237\u6807\u7b7e",addBtnText:"\u6dfb\u52a0\u6807\u7b7e",resetSelect:!1,isMuti:!0,tagSize:5,optionSize:20,removeOption:function(t){return e.removeOption("customerTags",t)},addOption:function(t){return e.addOption("customerTags",t)},addToForm:function(t){return e.addToForm("customerTags",t)}}),g=[];return t&&t.length&&t.map(function(e){var t=e.attachmentUrl.split("/");g.push({uid:e.attachmentSeq.toString(),name:t[t.length-1],status:"done",url:e.attachmentUrl})}),console.log(g,"dddd",t),D.createElement("div",{className:le.a.CustomerAdd},D.createElement(o.a,{title:"".concat(n?"\u4fee\u6539":"\u65b0\u589e","\u5ba2\u6237"),bordered:!0},D.createElement(i.a,{layout:"horizontal"},D.createElement(we,pe({},l,{label:"\u5ba2\u6237\u540d\u79f0\uff1a"}),y("customerName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5ba2\u6237\u540d\u79f0"}]})(D.createElement(s.a,{placeholder:"\u8bf7\u8f93\u5165\u5ba2\u6237\u540d\u79f0"}))),D.createElement(we,pe({},l,{required:!0,label:"\u8054\u7cfb\u4eba\uff1a"}),D.createElement(p.a,null,D.createElement(a.a,{md:8},D.createElement(we,null,y("contact",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5ba2\u6237\u8054\u7cfb\u4eba\u59d3\u540d"}]})(D.createElement(s.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",style:{width:100},maxLength:20})))),D.createElement(a.a,{md:16},D.createElement(we,null,y("contactWay",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5ba2\u6237\u8054\u7cfb\u65b9\u5f0f"},{pattern:/^[\d|\-|\s]*$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8054\u7cfb\u65b9\u5f0f"}]})(D.createElement(s.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u65b9\u5f0f",maxLength:20})))))),D.createElement(we,pe({},l,{label:"\u5ba2\u6237\u7f16\u7801"}),y("customerCode",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5ba2\u6237\u7f16\u7801"}]})(D.createElement(s.a,{placeholder:"\u8bf7\u8f93\u5165\u5ba2\u6237\u7f16\u7801"}))),D.createElement(we,pe({},l,{label:"\u884c\u4e1a\u5206\u7c7b\uff1a"}),y("industry",{})(D.createElement(U,{onChange:this.handleIndustyPicker}))),D.createElement(we,pe({},l,{label:"\u7ed3\u7b97\u65b9\u5f0f\uff1a"}),y("settlementType",{})(D.createElement(U,{type:"SettlementType",placeholder:"\u8bf7\u9009\u62e9\u7ed3\u7b97\u65b9\u5f0f"}))),D.createElement(we,pe({},l,{label:"\u5408\u4f5c\u671f\u9650\uff1a"}),y("cooperateDate")(D.createElement(Se,{style:{width:"100%"}}))),D.createElement(we,pe({},l,{label:"\u5ba2\u6237\u6253\u6807\uff1a"}),y("customerTags",{})(D.createElement(Y.a,b))),D.createElement(we,pe({},l,{label:"\u516c\u53f8\u5730\u5740"}),y("address",{})(D.createElement(d.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u5730\u5740",onSelected:this.onSelectedAddress,style:{width:"100%"}}))),D.createElement(we,pe({},l,{label:"\u7981\u5165\u8f66\u578b\uff1a"}),y("offLimitCarTypes")(D.createElement(h.a,{placeholder:"\u8bf7\u9009\u62e9\u8f66\u578b"}))),D.createElement(we,pe({},l,{label:"\u9500\u552e\u7ecf\u7406\uff1a"}),y("salesman",{})(D.createElement(ie,{maxLength:5}))),D.createElement(we,pe({},l,{label:"\u4e0a\u4f20\u6587\u4ef6\uff1a"}),y("custAttachments")(D.createElement(m.a,{action:"/ehuodiGateway/utmsCore/basecs/uploadCustAttachment",onChange:this.handleUploadFile,defaultFileList:g},D.createElement(r.a,{disabled:c.fileList.length>=5},D.createElement(u.a,{type:"upload"})," \u70b9\u51fb\u4e0a\u4f20")))),D.createElement("div",{style:{textAlign:"center"}},D.createElement(r.a,{key:0,type:"primary",htmlType:"submit",onClick:function(t){e.handleSubmit(t)}},"\u4fdd\u5b58"),D.createElement(r.a,{style:{marginLeft:10},key:1,onClick:function(){e.cancleEdit()}},"\u53d6\u6d88")))))}}])&&be(n.prototype,c),f&&be(n,f),t}();t.default=function(e){var t=e.routeId;return(0,e.connectModel)(function(e){var n,r=function(e){return e.get(t)};return{mapStateToProps:Object(V.createStructuredSelector)({data:(n=r,Object(V.createSelector)(n,function(e){return e.get("data")})),error:function(e){return Object(V.createSelector)(e,function(e){return e.get("error")})}(r),loading:function(e){return Object(V.createSelector)(e,function(e){return e.get("loading")})}(r)}),mapDispatchToProps:function(t){return{toList:function(n){return t(e.toList(n))},getData:function(n){return t(e.getAsyncData(n))}}}}})(i.a.create({mapPropsToFields:function(e){var t=e.data.toJS(),n={};return Object.keys(t||{}).forEach(function(e){var r=t[e];if("salesman"===e&&r&&r.length){var o=[];JSON.parse(r).map(function(e){o.push({key:e.jobcard,label:[e.name]})}),r=o}"offLimitCarTypes"===e&&r&&r.length&&(r=JSON.parse(r)),n[e]=i.a.createFormField({value:r}),n.cooperateDate=i.a.createFormField({value:[b()(t.cooperateBeginDate),b()(t.cooperateEndDate)]})}),console.log(n,"ffff"),me({},n)}})(je))}}}]);
//# sourceMappingURL=23.37caa2fd.chunk.js.map