(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Xz4t:function(e,t,r){e.exports={LtlOrder:"_3Xh2U",total:"M7oHe",item:"_3Yn3T",title:"_2lSv5",value:"_2PuBF",optionButtons:"_1jzcV",condition:"k_R2l",btns:"_14Ndg",ImportOrder__PreEditor:"_3r4vt",EditTable:"A3nF4",EditableCell:"_2ng7M",EditableCell__ConfirmBtn:"_3XILj"}},hqtZ:function(e,t,r){e.exports=r.p+"template.f28ee8ae.xlsx"},mqsB:function(e,t,r){"use strict";r.r(t);var n=r("dZay"),o=r.n(n),a=r("q1tI"),i=r("/MKj"),l=r("2iEm"),c=r("ANjH"),u=r("peh1"),s=r("2/Rp"),f=r("bx4M"),p=r("kaz8"),d=r("kLXV"),m=r("EIz2"),y=r("ayp/"),h=r("lMyb"),b=r("Xz4t"),g=r.n(b),v=r("kPKH"),O=r("+eQT"),w=r("Vl3Y"),E=r("5rEg"),S=r("BMrR"),j=r("2fM7");function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){T(e,t,r[t])})}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=N({},r("WoGj").a,{colon:!1}),R=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=C(this,(e=_(t)).call.apply(e,[this].concat(o)))).layout={xxl:{span:6},xl:{span:6},md:{span:12},sm:{span:12},xs:{span:24}},r.onSearch=function(e){e.preventDefault(),r.props.form.validateFields(function(e,t){if(!e){var n=t.createDate,o=P(t,["createDate"]),a="",i="";if(n&&n.length>0&&(a=n[0].format("YYYY-MM-DD")+" 00:00:00",i=n[1].format("YYYY-MM-DD")+" 23:59:59"),r.props.onSearch){var l=N({createDateStart:a,createDateEnd:i},o);(l.status||0===l.status)&&(l.status=[l.status],2===l.status[0]&&l.status.unshift(1));for(var c=Object.keys(l),u=0;u<c.length;u++){var s=c[u];l[s]||delete l[s]}r.props.onSearch(l)}}})},r.onClear=function(){var e=r.props.form,t=e.setFieldsValue;e.validateFields;t({status:"",createDate:void 0,thirdSystemId:"",orderNumber:"",customerName:"",address:""}),r.props.onSearch&&r.props.onSearch()},r}var r,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,a["PureComponent"]),r=t,(n=[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return a.createElement("div",{className:g.a.condition},a.createElement(w.a,{onSubmit:this.onSearch},a.createElement(S.a,{gutter:10},a.createElement(v.a,this.layout,a.createElement(w.a.Item,k({},V,{label:"\u72b6\u6001",style:{marginBottom:"14px"}}),e("status",{initialValue:""})(a.createElement(j.a,{placeholder:"\u5168\u90e8"},[{value:"",text:"\u5168\u90e8"},{value:0,text:"\u5f85\u914d\u8f7d"},{value:2,text:"\u5f85\u8c03\u5ea6"},{value:3,text:"\u914d\u9001\u4e2d"},{value:4,text:"\u5df2\u7b7e\u6536"},{value:5,text:"\u672a\u7b7e\u6536"}].map(function(e,t){return a.createElement(j.a.Option,{key:t,value:e.value},e.text)}))))),a.createElement(v.a,this.layout,a.createElement(w.a.Item,k({},V,{label:"\u53d1\u5e03\u65f6\u95f4",style:{marginBottom:"14px"}}),e("createDate",{rules:[{type:"array"}]})(a.createElement(O.a.RangePicker,{style:{width:"100%"}})))),a.createElement(v.a,this.layout,a.createElement(w.a.Item,k({},V,{label:"\u7b2c\u4e09\u65b9\u5355\u53f7",style:{marginBottom:"14px"}}),e("thirdSystemId",{initialValue:""})(a.createElement(E.a,null))))),a.createElement(S.a,{gutter:10},a.createElement(v.a,this.layout,a.createElement(w.a.Item,k({},V,{label:"\u8ba2\u5355\u53f7"}),e("orderNumber",{initialValue:""})(a.createElement(E.a,null)))),a.createElement(v.a,this.layout,a.createElement(w.a.Item,k({},V,{label:"\u5ba2\u6237\u540d\u79f0"}),e("customerName",{initialValue:""})(a.createElement(E.a,null)))),a.createElement(v.a,this.layout,a.createElement(w.a.Item,k({},V,{label:"\u6536\u8d27\u5730\u5740"}),e("address",{initialValue:""})(a.createElement(E.a,null)))),a.createElement(v.a,this.layout,a.createElement(w.a.Item,V,a.createElement(s.a,{type:"primary",htmlType:"submit",style:{marginRight:"12px",marginLeft:"6px"}},"\u67e5\u8be2"),a.createElement(s.a,{onClick:this.onClear},"\u91cd\u7f6e"))))))}}])&&x(r.prototype,n),o&&x(r,o),t}(),F=w.a.create()(R),A=r("+KLJ"),M=r("CtXQ"),L=r("wCAj"),z=r("8z0m"),q=r("Mpt7"),Y=r("1f+Y"),B=["thirdSystemId","longitude","latitude","contact","phone","province","address","requireDate","goodsName","goodsWeight","goodsVolume","goodsNumber","isReceipt","delegateAmount","remark"],H={address:{title:"\u8be6\u7ec6\u5730\u5740",width:150},contact:{title:"\u8054\u7cfb\u4eba",width:120},delegateAmount:{title:"\u4ee3\u6536\u8d27\u6b3e(\u5143)",width:120},goodsName:{title:"\u8d27\u7269\u540d\u79f0",width:120},goodsNumber:{title:"\u4ef6\u6570(\u4ef6)",width:120},goodsVolume:{title:"\u4f53\u79ef(\u65b9)",width:120},goodsWeight:{title:"\u91cd\u91cf(\u5343\u514b)",width:120},isReceipt:{title:"\u56de\u5355\u670d\u52a1",width:120},latitude:{title:"\u7eac\u5ea6",width:120},longitude:{title:"\u7ecf\u5ea6",width:120},phone:{title:"\u8054\u7cfb\u7535\u8bdd",width:120},province:{title:"\u7701\u5e02\u533a",width:140},remark:{title:"\u5907\u6ce8",width:150},requireDate:{title:"\u8981\u6c42\u5230\u8fbe\u65f6\u95f4",width:120,type:"datePicker"},thirdSystemId:{title:"\u7b2c\u4e09\u65b9\u5355\u53f7",width:120}},K=B.reduce(function(e,t){return e+H[t].width},0),W=r("TSYQ"),X=r.n(W),J=r("wd/R"),U=r.n(J),G=a.createContext();function Q(e){return(Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t){return!t||"object"!==Q(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=w.a.Item,ie=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=re(this,(e=ne(t)).call.apply(e,[this].concat(o)))).form=void 0,r.save=function(){var e=r.props,t=e.dataIndex,n=e.record,o=e.handleSave;r.form.validateFields([t],function(e,t){e||o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ee(e,t,r[t])})}return e}({},n,t))})},r}var r,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,a["PureComponent"]),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props,r=t.dataIndex,n=t.title,o=t.record,i=(t.index,t.handleSave,t.className),l=(t.width,t.type),c=$(t,["dataIndex","title","record","index","handleSave","className","width","type"]),u={};return o.error.forEach(function(e,t){Object.assign(u,ee({},t,e))}),a.createElement("td",Z({},c,{className:X()(i,g.a.EditableCell)}),a.createElement(G.Consumer,null,function(t){e.form=t;var i="datePicker"===l?O.a:E.a,s={};return u[r]&&!0!==u[r]&&Object.assign(s,{validateStatus:"error",help:u[r]}),a.createElement(ae,Z({},s,{style:{margin:0}}),u[r]?t.getFieldDecorator(r,{rules:[{required:!0,message:"".concat(n," is required.")}],initialValue:"datePicker"===l?U()(o[r]):o[r]})(a.createElement(i,{ref:function(t){return e.input=t},size:"small",suffix:a.createElement("button",{className:g.a.EditableCell__ConfirmBtn,onClick:e.save},a.createElement(M.a,{type:"check"})),onChange:function(){"datePicker"===l&&e.save()}})):a.createElement("div",{className:g.a.EditableCell__ValueWrap},c.children))}))}}])&&te(r.prototype,n),o&&te(r,o),t}();function le(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ce,ue=w.a.create()(function(e){var t=e.form,r=(e.index,le(e,["form","index"]));return a.createElement(G.Provider,{value:t},a.createElement("tr",r))}),se=r("s37B"),fe=r("hqtZ"),pe=r.n(fe);function de(e){return(de="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ye(e,t,r[t])})}return e}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){return!t||"object"!==de(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=w.a.Item,Ee={labelCol:{span:6},wrapperCol:{span:12}},Se=w.a.create({})(ce=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=ge(this,(e=ve(t)).call.apply(e,[this].concat(o)))).normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},r.onFileChange=function(e){var t=e.fileList;setTimeout(function(){r.props.form.setFieldsValue({file:t.slice(-1)})},10)},r.handleSubmit=function(){var e=r.props,t=e.importData,n=e.form,o=e.onImport,a=t.get("status");"beforeImport"===a?n.validateFields(function(e,t){e||o(t)}):"invalid"===a&&r.props.onReImport()},r.handleSave=function(e){r.props.editImportValid(e)},r.handleReImport=function(){var e=r.props.importData;Object(se.d)({customerCode:e.get("customerCode"),customerName:e.get("customerName"),fileId:e.get("fileId"),isContinue:1,total:e.get("total"),rightCount:e.get("rightCount"),errorCount:e.get("errorCount")}).then(function(){r.props.setImportStatus("beforeImport")})},r}var r,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,a["PureComponent"]),r=t,(n=[{key:"renderPreImportEditor",value:function(){var e=this.props.form.getFieldDecorator;return a.createElement("div",null,a.createElement(A.a,{message:"\u6ce8\u610f\uff1a\u6279\u91cf\u5bfc\u5165\u8ba2\u5355\u8bf7\u4f7f\u7528\u5b98\u65b9\u63d0\u4f9b\u7684\u6a21\u7248\uff0c\u5426\u5219\u4f1a\u5bfc\u5165\u5931\u8d25\u3002",type:"info",showIcon:!0}),a.createElement(w.a,{className:g.a.ImportOrder__PreEditor},a.createElement(we,he({},Ee,{label:"\u9009\u62e9\u5ba2\u6237",required:!0}),e("customer",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba2\u6237"}]})(a.createElement(Y.a,null))),a.createElement(we,he({},Ee,{label:"\u4e0a\u4f20\u6587\u4ef6",required:!0,extra:a.createElement("a",{href:pe.a,download:"\u8ba2\u5355\u6279\u91cf\u5bfc\u5165\u6a21\u7248.xlsx"},"\u8ba2\u5355\u6279\u91cf\u5bfc\u5165\u6a21\u7248.xlsx")}),e("file",{rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u5bfc\u5165\u6587\u4ef6"}],getValueFromEvent:this.normFile,valuePropName:"fileList"})(a.createElement(z.a,{beforeUpload:function(){return!1},onChange:this.onFileChange},a.createElement(s.a,null,a.createElement(M.a,{type:"upload"})," \u70b9\u51fb\u4e0a\u4f20"))))))}},{key:"renderInvalidEditor",value:function(){var e=this,t=this.props.importData,r=t.get("orderDatas").toArray().map(function(e,t){return me({index:t,key:t},e.toObject())}),n=B.map(function(t,r){var n=H[t];return me({},n,{dataIndex:t,onCell:function(r){return me({},n,{record:r,dataIndex:t,handleSave:e.handleSave})}})}),o={className:g.a.EditTable,title:function(){return"\u5bfc\u5165\u5931\u8d25\u7684\u5217\u8868"},rowClassName:function(){return"editable-row"},components:{body:{row:ue,cell:ie}},dataSource:r,columns:n,bordered:!0,scroll:{x:K,y:200},rowKey:"key",size:"small"};return a.createElement("div",null,a.createElement(A.a,{message:"\u5bfc\u5165".concat(t.get("total"),"\u6761\u8ba2\u5355\u3002 \u6210\u529f").concat(t.get("rightCount"),"\u6761\uff0c\u5931\u8d25").concat(t.get("errorCount"),"\u6761\u3002"),description:"\u5bfc\u5165\u5931\u8d25\u7684\u5185\u5bb9\u53ef\u53cc\u51fb\u8fdb\u884c\u76f4\u63a5\u4fee\u6539\uff0c\u4fee\u6539\u5b8c\u6210\u540e\u70b9\u51fb\u201c\u5df2\u4fee\u6539\uff0c\u7ee7\u7eed\u5bfc\u5165\u201d",type:"info",showIcon:!0}),a.createElement(L.a,o))}},{key:"render",value:function(){var e=this,t=this.props.importData,r={visible:!0,width:800,onOk:this.handleSubmit,confirmLoading:t.get("pending"),maskClosable:!1,centered:!0},n=t.get("status");return"beforeImport"===n?Object.assign(r,{title:"\u8ba2\u5355\u5bfc\u5165",okText:"\u5bfc\u5165Excel",cancelText:"\u53d6\u6d88",children:this.renderPreImportEditor(),onCancel:function(){return e.props.setImportStatus("success")}}):"invalid"===n?Object.assign(r,{title:"\u5bfc\u5165\u786e\u8ba4",okText:"\u5df2\u4fee\u6539\uff0c\u7ee7\u7eed\u5bfc\u5165",cancelText:"\u91cd\u65b0\u5bfc\u5165Excel",children:this.renderInvalidEditor(),onCancel:this.handleReImport,okButtonProps:{disabled:t.get("orderDatas").some(function(e){return e.get("error",Object(q.Map)()).some(function(e){return e&&!0!==e})})}}):Object.assign(r,{visible:!1}),a.createElement(d.a,r)}}])&&be(r.prototype,n),o&&be(r,o),t}())||ce,je=r("9UV2"),Ie=r.n(je);function ke(e){return(ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ce(e,t){return!t||"object"!==ke(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=Ce(this,(e=_e(t)).call.apply(e,[this].concat(o)))).layout={lg:{span:4},md:{span:8},xs:{span:24}},r.state={obj:{total:null,waitGroup:null,pendingScheduling:null,distribution:null,haveSignedIn:null,notSigned:null}},r.getTotalItem=function(e){var t=e.title,r=e.value,n=e.border,o=void 0!==n&&n;return a.createElement("div",{className:"".concat(g.a.item," ").concat(o?g.a.border:"")},a.createElement("div",{className:g.a.title},t),a.createElement("div",{className:g.a.value},Ie.a.formatNumber(r,{thousand:","})))},r}var r,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,a["PureComponent"]),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){if(e.total){var t=e;this.setState({obj:t})}}},{key:"render",value:function(){return a.createElement("div",{className:g.a.total},a.createElement(f.a,{bordered:!1},a.createElement(S.a,{gutter:16},a.createElement(v.a,Pe({},this.layout,{key:1}),this.getTotalItem({title:"\u603b\u8ba2\u5355",value:this.state.obj.total,border:!0})),a.createElement(v.a,Pe({},this.layout,{key:2}),this.getTotalItem({title:"\u5f85\u914d\u8f7d",value:this.state.obj.waitGroup,border:!0})),a.createElement(v.a,Pe({},this.layout,{key:3}),this.getTotalItem({title:"\u5f85\u8c03\u5ea6",value:this.state.obj.pendingScheduling})),a.createElement(v.a,Pe({},this.layout,{key:4}),this.getTotalItem({title:"\u914d\u9001\u4e2d",value:this.state.obj.distribution,border:!0})),a.createElement(v.a,Pe({},this.layout,{key:5}),this.getTotalItem({title:"\u5df2\u7b7e\u6536",value:this.state.obj.haveSignedIn,border:!0})),a.createElement(v.a,Pe({},this.layout,{key:6}),this.getTotalItem({title:"\u672a\u7b7e\u6536",value:this.state.obj.notSigned})))))}}])&&xe(r.prototype,n),o&&xe(r,o),t}();function Te(e){return(Te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Re(e,t,r[t])})}return e}function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ae(e,t){return!t||"object"!==Te(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze=h.a.emptyRecord,qe=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Ae(this,(e=Me(t)).call.apply(e,[this].concat(o)))).state={current:1,permissions:[]},r.pars={pageSize:15,skipCount:0},r.condition={},r.onShowSizeChange=function(e){e&&(e.current=1),r.onFetch(e)},r.onFetch=function(e){r.pars.pageSize=(e?e.pageSize:15)||r.pars.pageSize,r.pars.skipCount=e?e.skipCount:0,r.props.getOrderListData(Ve({},r.pars,e,r.condition)),r.setState({current:(e?e.current:1)||1})},r.onSearch=function(e){r.pars.skipCount=0,r.condition=e,r.setState({current:1}),r.props.getOrderListData(Ve({},r.pars,r.condition)),r.props.getOrderStatistics()},r.setImportStatus=function(e){r.props.setImportStatus("beforeImport")},r.onDeleteOrders=function(){var e=r.props,t=e.onDeleteOrders,n=(e.getOrderStatistics,r.props.data.toJS().filter(function(e){return e.isChecked&&"\u5f85\u914d\u8f7d"===e.status}).map(function(e){return e.utmsPartOrderId}));n.length>0&&d.a.confirm({title:"\u5220\u9664\u786e\u8ba4",content:"\u662f\u5426\u5220\u9664\u9009\u4e2d\u7684\u8ba2\u5355",iconType:"info-circle",className:"ant-confirm-info",centered:!0,onOk:function(){t(n)}})},r.updateHandler=function(){r.props.getOrderListData(Ve({},r.pars,r.condition)),r.props.getOrderStatistics()},r}var r,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,a["PureComponent"]),r=t,(n=[{key:"componentDidMount",value:function(){this.handlePermissions(),this.props.getOrderListData(Ve({},this.pars,this.condition)),this.props.getOrderStatistics(),o()("/ltlOrder","import success").on(this.updateHandler),o()("/ltlOrder","refresh").on(this.updateHandler)}},{key:"componentWillUnmount",value:function(){o()("/ltlOrder","import success").drop(this.updateHandler),o()("/ltlOrder","refresh").drop(this.updateHandler)}},{key:"handlePermissions",value:function(){var e=this.props.permissions;this.setState({permissions:e.toArray().map(function(e){return e.get("operateKey")})})}},{key:"render",value:function(){var e=this,t=this.state,r=t.current,n=t.permissions,o=this.props,i=o.importData,c=o.importOrders,u=o.importModifyOrders,d=o.setImportStatus,h=o.editImportValid,b=o.data,v=o.count,O=o.loading,w=o.statistics,E=b.toJS(),S=[{width:40,fixed:"left",key:"checkbox",render:function(t){if("\u5f85\u914d\u8f7d"===t.status)return a.createElement(p.a,{checked:t.isChecked,onChange:function(){return e.props.onCheckedChanged(t)}})}},{title:"\u7b2c\u4e09\u65b9\u8ba2\u5355\u53f7",dataIndex:"thirdSystemId",width:225,fixed:"left",render:function(e){return e||ze}},{title:"\u8ba2\u5355\u53f7",dataIndex:"orderNumber",width:225,fixed:"left",render:function(e,t){return a.createElement("span",null,a.createElement(l.a,{to:"/ltlOrder/detail?id=".concat(t.utmsPartOrderId)},e))}},{title:"\u72b6\u6001",dataIndex:"status",width:80},{title:"\u5ba2\u6237\u540d\u79f0",width:150,dataIndex:"customerName"},{title:"\u53d1\u5e03\u65f6\u95f4",dataIndex:"gmtCreate",width:190},{title:"\u8981\u6c42\u9001\u8fbe\u65f6\u95f4",width:190,dataIndex:"requireDate",render:function(e){return e||ze}},{title:"\u6536\u8d27\u4eba\u59d3\u540d",width:120,dataIndex:"contact"},{title:"\u8054\u7cfb\u7535\u8bdd",width:135,dataIndex:"phone"},{title:"\u7701\u5e02\u533a",width:180,dataIndex:"province"},{title:"\u6536\u8d27\u5730\u5740",width:250,dataIndex:"address"},{title:"\u64cd\u4f5c",key:"operation",fixed:"right",width:110,render:function(e,t){if("\u5f85\u914d\u8f7d"===t.status)return a.createElement(l.a,{to:"/ltlOrder/edit?id=".concat(t.utmsPartOrderId)},"\u4fee\u6539")}}],j=0;return S.map(function(e){j+=e.width||0}),a.createElement("div",{className:g.a.LtlOrder},a.createElement(Ne,w),a.createElement(f.a,{title:"\u96f6\u62c5\u8ba2\u5355",bordered:!0,extra:a.createElement("div",null,n.includes("add")?a.createElement(l.a,{to:"/ltlOrder/add"},a.createElement(s.a,{style:{marginRight:"20px"}},"\u96f6\u62c5\u5f00\u5355")):"",a.createElement(s.a,{type:"primary",onClick:this.setImportStatus},"\u8ba2\u5355\u5bfc\u5165"))},a.createElement(F,{onSearch:this.onSearch}),a.createElement(m.a,{columns:S,rowKey:"utmsPartOrderId",dataSource:E,scroll:{x:j},loading:O,pagination:{current:r,onChange:this.onFetch,onShowSizeChange:this.onShowSizeChange,total:v}})),a.createElement(y.a,{leftChild:a.createElement(y.c,{total:E.filter(function(e){return"\u5f85\u914d\u8f7d"===e.status}).length,checked:E.filter(function(e){return e.isChecked&&"\u5f85\u914d\u8f7d"===e.status}).length,onAllCheckChanged:this.props.onAllCheckChanged}),rightChild:a.createElement(y.b,{buttons:[a.createElement(s.a,{key:2,type:"primary",onClick:this.onDeleteOrders},"\u6279\u91cf\u5220\u9664")]})}),a.createElement(Se,{importData:i,onImport:c,onReImport:u,editImportValid:h,setImportStatus:d}))}}])&&Fe(r.prototype,n),i&&Fe(r,i),t}();t.default=function(e){var t=e.routeId,r=e.actions,n=function(e){return e.get(t)},o=Object(u.createStructuredSelector)({error:function(e){return Object(u.createSelector)(e,function(e){return e.get("error")})}(n),loading:function(e){return Object(u.createSelector)(e,function(e){return e.get("loading")})}(n),data:function(e){return Object(u.createSelector)(e,function(e){return e.get("data")})}(n),count:function(e){return Object(u.createSelector)(e,function(e){return e.get("count")})}(n),importData:function(e){return Object(u.createSelector)(e,function(e){return e.get("import")})}(n),statistics:function(e){return Object(u.createSelector)(e,function(e){return e.get("statistics")})}(n)}),a=Object(i.connect)(o,function(e){return{getOrderListData:function(t){return e(r.getOrderListData(t))},onCheckedChanged:function(t){return e(r.checkedChanged(t))},onAllCheckChanged:function(t){return e(r.allCheckedChanged(t))},onDeleteOrders:function(t){return e(r.deleteOrders(t))},importOrders:function(t){return e(r.importOrders(t))},importModifyOrders:function(t){return e(r.importModifyOrders(t))},editImportValid:function(t){return e(r.editImportValid(t))},backToImport:function(){return e(r.backToImport())},setImportStatus:function(t){return e(r.setImportStatus(t))},getOrderStatistics:function(t){return e(r.getOrderStatistics())}}});return Object(c.c)(a)(qe)}}}]);
//# sourceMappingURL=ltl-order.d07f49b4.chunk.js.map