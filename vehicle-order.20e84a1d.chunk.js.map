{"version":3,"sources":["webpack:///./src/modules/module.vehicle.order/index.tsx","webpack:///./src/modules/module.vehicle.order/selectors.ts","webpack:///./src/modules/module.vehicle.order/index.module.less"],"names":["Option","es_select","RangePicker","date_picker","FormItem","es_form","Item","colLayProps","sm","xs","md","lg","xl","formItemLayout","labelCol","span","wrapperCol","colon","module_vehicle_order_VehicleOrder","VehicleOrder","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","handleSearch","e","preventDefault","data","getSearchData","updateFilter","handleReset","form","resetFields","setStatus","paginationChange","params","skipCount","pageSize","current","setState","getOrderListData","state","permissions","react","_this2","initSearch","handlePermissions","msngrfrom_dll_reference_dll_default","on","d","routeId","_this3","drop","toArray","map","get","className","index_module_default","a","card","style","width","renderTopCard","title","extra","renderAddBtn","marginTop","renderSelectBar","renderTable","getStatistics","label","value","CardSingle","CardSingle_label","CardSingle_value","statistics","TopCard","renderCard","row","textAlign","includes","Link","to","es_button","type","setFieldsValue","status","getFieldDecorator","SelectBar","onSubmit","gutter","col","_extends","input","placeholder","htmlType","marginLeft","onClick","_this4","_this$props","dataCount","orderList","loading","pageIndex","statusMap","columns","dataIndex","key","fixed","render","text","record","concat","orderWholeCarId","refresh","val","badge","filter","size","push","OptionButtons","popconfirm","onConfirm","sendGood","href","deleOrder","tableProps","dataSource","item","customerName","thirdSystemId","GLOBAL","emptyRecord","orderNumber","gmtCreate","useCarDate","requireDate","carStruct","carLong","car","scroll","x","pagination","total","onChange","onShowSizeChange","MyTable","getFieldsValue","gmtCreateValue","gmtCreateGte","useCarDateValue","useCarDateGte","dateData","length","format","gmtCreateLte","useCarDateLte","Object","assign","id","_this$state","formData","_objectSpread","_this$state2","__webpack_exports__","_ref","actions","selectState","mapStateToProps","libfrom_dll_reference_dll","error","selectors_makeSelectError","selectors_makeSelectLoading","selectors_makeSelectOrderData","selectors_makeSelectDataCount","selectors_makeSelectPageIndex","selectors_makeSelectStatistics","withConnect","es","dispatch","options","redux","create","module","exports"],"mappings":"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","file":"vehicle-order.20e84a1d.chunk.js","sourcesContent":["/**\n * VehicleOrder Component，整车订单\n * @author lhf\n * @date 2018-9-11 16:31:42\n */\nimport Badge from 'antd/es/badge';\nimport Button from 'antd/es/button';\nimport Card from 'antd/es/card';\nimport Col from 'antd/es/col';\nimport DatePicker from 'antd/es/date-picker';\nimport Divider from 'antd/es/divider';\nimport Form from 'antd/es/form';\nimport { WrappedFormUtils } from 'antd/es/form/Form';\nimport Input from 'antd/es/input';\nimport Popconfirm from 'antd/es/popconfirm';\nimport Row from 'antd/es/row';\nimport Select from 'antd/es/select';\nimport Table from 'components/MyTable';\nimport { OptionButtons } from 'components/OptionButtons';\nimport { List, Map } from 'immutable';\nimport msngr from 'msngr';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { createStructuredSelector } from 'reselect';\nimport GLOBAL from 'utils/GLOBAL';\nimport {\n  makeSelectDataCount,\n  makeSelectError,\n  makeSelectLoading,\n  makeSelectOrderData,\n  makeSelectPageIndex,\n  makeSelectStatistics,\n} from './selectors';\n\nimport styles from './index.module.less';\n\nconst Option = Select.Option;\nconst { RangePicker } = DatePicker;\nconst FormItem = Form.Item;\nconst gutter = 16;\nconst colLayProps = {\n  sm: 24,\n  xs: 24,\n  md: 12,\n  lg: 12,\n  xl: 6,\n};\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n  colon: false,\n};\nexport interface IVehicleOrderProps {\n  children: React.ReactChildren;\n  loading: boolean;\n  form: WrappedFormUtils;\n  orderList: List<Map<string, any>>;\n  dataCount: number;\n  pageIndex: number;\n  permissions: List<Map<string, any>>;\n  statistics: Map<string, any>;\n  routeId: string;\n  opera: string; // 删除和发货操作\n  getOrderListData: (options?: object, pageIndex?: number) => any;\n  sendGood: (data) => void;\n  deleOrder: (data) => void;\n  updateFilter: (data?: object) => any;\n  getStatistics: (data?) => any;\n}\ninterface IVehicleOrderState {\n  permissions: any[];\n  skipCount: number;\n  pageSize: number;\n}\n\nclass VehicleOrder extends React.PureComponent<\n  IVehicleOrderProps,\n  IVehicleOrderState\n> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      permissions: [],\n      skipCount: 0,\n      pageSize: 15,\n    };\n  }\n  public componentDidMount() {\n    this.setStatus();\n    this.initSearch();\n    this.handlePermissions();\n    msngr('/vehicleOrder/list', 'refresh').on(d => {\n      this.initSearch();\n    });\n    msngr('GLOBAL', 'activeRouteId', 'change').on(routeId => {\n      // console.log(routeId, 'cccc', this.props.routeId);\n    });\n  }\n\n  public componentWillUnmount() {\n    msngr('/vehicleOrder/list', 'refresh').drop(d => {\n      this.initSearch();\n    });\n  }\n\n  // 取权限\n  public handlePermissions() {\n    const { permissions } = this.props;\n    this.setState({\n      permissions: permissions.toArray().map(data => data.get('operateKey')),\n    });\n  }\n\n  public render() {\n    return (\n      <div className={styles.VehicleOrder}>\n        <Card style={{ width: '100%' }}>{this.renderTopCard()}</Card>\n        <Card\n          title=\"整车订单\"\n          extra={this.renderAddBtn()}\n          style={{ marginTop: 12 }}\n        >\n          {this.renderSelectBar()}\n          {this.renderTable()}\n        </Card>\n      </div>\n    );\n  }\n\n  private initSearch() {\n    this.props.getStatistics();\n    this.props.getOrderListData();\n  }\n\n  /*\n   * 单个顶部卡片\n   * @param label\n   * @param value\n   */\n  private renderCard(label, value) {\n    return (\n      <div className={styles.CardSingle}>\n        <div className={styles.CardSingle_label}>{label}</div>\n        <div className={styles.CardSingle_value}>{value || 0}</div>\n      </div>\n    );\n  }\n\n  // 顶部所有卡片\n  private renderTopCard() {\n    const { statistics } = this.props;\n    return (\n      <div className={styles.TopCard}>\n        {this.renderCard('总订单', statistics.get('total'))}\n        {this.renderCard('待调度', statistics.get('pendingScheduling'))}\n        {this.renderCard('配送中', statistics.get('distribution'))}\n        {this.renderCard('已签收', statistics.get('haveSignedIn'))}\n        {this.renderCard('未签收', statistics.get('notSigned'))}\n      </div>\n    );\n  }\n\n  private renderAddBtn() {\n    const { permissions } = this.state;\n    return (\n      <Row style={{ textAlign: 'right' }}>\n        {permissions.includes('/vehicleOrder/add') ? (\n          <Link to=\"/vehicleOrder/add\">\n            <Button type=\"primary\">整车开单</Button>\n          </Link>\n        ) : (\n          ''\n        )}\n      </Row>\n    );\n  }\n\n  // 设置状态为'全部'\n  private setStatus() {\n    const { setFieldsValue } = this.props.form;\n    setFieldsValue({ status: '' });\n  }\n\n  // 搜索栏\n  private renderSelectBar() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <div className={styles.SelectBar}>\n        <Form onSubmit={this.handleSearch}>\n          <Row gutter={gutter}>\n            <Col className=\"gutter-row\" {...colLayProps}>\n              <FormItem {...formItemLayout} label=\"订单状态\">\n                {getFieldDecorator('status')(\n                  <Select style={{ width: '100%' }}>\n                    <Option value=\"\">全部</Option>\n                    <Option value=\"0\">待发货</Option>\n                    <Option value=\"1\">待调度</Option>\n                    <Option value=\"2\">配送中</Option>\n                    <Option value=\"3\">已签收</Option>\n                    <Option value=\"4\">未签收</Option>\n                  </Select>,\n                )}\n              </FormItem>\n            </Col>\n            <Col {...colLayProps}>\n              <FormItem {...formItemLayout} label=\"下单时间\">\n                {getFieldDecorator('gmtCreateGte')(\n                  <RangePicker style={{ width: '100%' }} />,\n                )}\n              </FormItem>\n            </Col>\n            <Col {...colLayProps}>\n              <FormItem {...formItemLayout} label=\"用车时间\">\n                {getFieldDecorator('useCarDateGte')(\n                  <RangePicker style={{ width: '100%' }} />,\n                )}\n              </FormItem>\n            </Col>\n          </Row>\n          <Row gutter={gutter}>\n            <Col {...colLayProps}>\n              <FormItem {...formItemLayout} label=\"客户名称\">\n                {getFieldDecorator('customerName')(\n                  <Input placeholder=\"请输入\" />,\n                )}\n              </FormItem>\n            </Col>\n            <Col {...colLayProps}>\n              <FormItem {...formItemLayout} label=\"订单号\">\n                {getFieldDecorator('orderNumber')(\n                  <Input placeholder=\"请输入\" />,\n                )}\n              </FormItem>\n            </Col>\n            <Col {...colLayProps}>\n              <FormItem {...formItemLayout} label=\"第三方订单号\">\n                {getFieldDecorator('thirdSystemId')(\n                  <Input placeholder=\"请输入\" />,\n                )}\n              </FormItem>\n            </Col>\n            <Col {...colLayProps} style={{ marginTop: 5 }}>\n              <Button type=\"primary\" htmlType=\"submit\">\n                查询\n              </Button>\n              <Button style={{ marginLeft: 12 }} onClick={this.handleReset}>\n                重置\n              </Button>\n            </Col>\n          </Row>\n        </Form>\n      </div>\n    );\n  }\n\n  private renderTable() {\n    const {\n      dataCount,\n      getOrderListData,\n      orderList,\n      loading,\n      pageIndex,\n    } = this.props;\n    const { permissions } = this.state;\n    const showDivider1 =\n      permissions.includes('delete') &&\n      (permissions.includes('send') ||\n        permissions.includes('/vehicleOrder/update'));\n    const showDivider2 =\n      permissions.includes('send') &&\n      permissions.includes('/vehicleOrder/update');\n    const statusMap = ['default', 'default', 'processing', 'success', 'error'];\n    const status = ['待发货', '待调度', '配送中', '已签收', '未签收'];\n    const columns = [\n      {\n        title: '客户',\n        width: 150,\n        dataIndex: 'customerName',\n        key: 'customerName',\n        fixed: 'left',\n      },\n      {\n        title: '订单号',\n        width: 220,\n        dataIndex: 'orderNumber',\n        key: 'orderNumber',\n        render: (text, record) =>\n          permissions.includes('/vehicleOrder/detail') ? (\n            <Link\n              to={`/vehicleOrder/detail?id=${record.orderWholeCarId}`}\n              onClick={() => {\n                this.props.refresh(\n                  `/vehicleOrder/detail?id=${record.orderWholeCarId}`,\n                );\n              }}\n            >\n              {text}\n            </Link>\n          ) : (\n            <span>{text}</span>\n          ),\n        fixed: 'left',\n      },\n      {\n        title: '第三方订单号',\n        width: 200,\n        dataIndex: 'thirdSystemId',\n        key: 'thirdSystemId',\n      },\n      {\n        title: '下单时间',\n        width: 180,\n        dataIndex: 'gmtCreate',\n        key: 'gmtCreate',\n      },\n      {\n        title: '用车时间',\n        width: 180,\n        dataIndex: 'useCarDate',\n        key: 'useCarDate',\n      },\n      {\n        title: '要求送达时间',\n        width: 180,\n        dataIndex: 'requireDate',\n        key: 'requireDate',\n      },\n      {\n        title: '所需车型',\n        dataIndex: 'car',\n        key: 'car',\n      },\n      {\n        title: '状态',\n        width: 100,\n        dataIndex: 'status',\n        key: 'status',\n        render: val => <Badge status={statusMap[val]} text={status[val]} />,\n      },\n    ];\n    if (orderList.filter(data => data.get('status') === 0).size > 0) {\n      columns.push({\n        title: '操作',\n        width: 105,\n        dataIndex: 'carStruct',\n        key: 'action',\n        render: (text, record) => {\n          return (\n            <span>\n              {record.status === 0 ? (\n                <span>\n                  <OptionButtons>\n                    {/* {showDivider1 ? <Divider type=\"vertical\" /> : ''} */}\n                    {permissions.includes('send') ? (\n                      <Popconfirm\n                        title=\"是否确认发货？\"\n                        onConfirm={() => {\n                          this.sendGood(record.orderWholeCarId);\n                        }}\n                      >\n                        <a href=\"javascript:void(0);\">发货</a>\n                      </Popconfirm>\n                    ) : null}\n                    {/* {showDivider2 ? <Divider type=\"vertical\" /> : ''} */}\n                    {permissions.includes('/vehicleOrder/update') ? (\n                      <Link\n                        to={`/vehicleOrder/update?id=${record.orderWholeCarId}`}\n                      >\n                        修改\n                      </Link>\n                    ) : null}\n                    {permissions.includes('delete') ? (\n                      <Popconfirm\n                        title=\"是否确认删除？\"\n                        onConfirm={() => {\n                          this.deleOrder(record.orderWholeCarId);\n                        }}\n                      >\n                        <a href=\"javascript:void(0);\">删除</a>\n                      </Popconfirm>\n                    ) : null}\n                  </OptionButtons>\n                </span>\n              ) : null}\n            </span>\n          );\n        },\n        fixed: 'right',\n      });\n    }\n\n    const tableProps = {\n      columns,\n      dataSource: orderList\n        .map(item => ({\n          key: item.get('orderWholeCarId'),\n          orderWholeCarId: item.get('orderWholeCarId'),\n          customerName: item.get('customerName'),\n          thirdSystemId: item.get('thirdSystemId') || GLOBAL.emptyRecord,\n          orderNumber: item.get('orderNumber'),\n          gmtCreate: item.get('gmtCreate'),\n          useCarDate: item.get('useCarDate') || GLOBAL.emptyRecord,\n          requireDate: item.get('requireDate') || GLOBAL.emptyRecord,\n          carStruct: item.get('carStruct'),\n          carLong: item.get('carLong'),\n          car: item.get('carLong')\n            ? item.get('carLong') / 1000 + '米' + item.get('carStruct')\n            : item.get('carStruct'),\n          status: item.get('status'),\n        }))\n        .toArray(),\n      scroll: { x: 1500 },\n      loading,\n      pagination: {\n        current: pageIndex,\n        total: dataCount,\n        onChange: this.paginationChange,\n        onShowSizeChange: this.paginationChange,\n      },\n    };\n\n    return <Table {...tableProps} />;\n  }\n\n  // 查询\n  private handleSearch = e => {\n    e.preventDefault();\n    const data = this.getSearchData();\n    this.props.updateFilter(data);\n  };\n\n  // 获取查询数据\n  private getSearchData() {\n    const { form } = this.props;\n    const data = form.getFieldsValue();\n    const gmtCreateValue = data.gmtCreateGte;\n    const useCarDateValue = data.useCarDateGte;\n    const dateData = {\n      gmtCreateGte:\n        gmtCreateValue && gmtCreateValue.length\n          ? gmtCreateValue[0].format('YYYY-MM-DD 00:00:00')\n          : '',\n      gmtCreateLte:\n        gmtCreateValue && gmtCreateValue.length\n          ? gmtCreateValue[1].format('YYYY-MM-DD 23:59:59')\n          : '',\n      useCarDateGte:\n        useCarDateValue && useCarDateValue.length\n          ? useCarDateValue[0].format('YYYY-MM-DD 00:00:00')\n          : '',\n      useCarDateLte:\n        useCarDateValue && useCarDateValue.length\n          ? useCarDateValue[1].format('YYYY-MM-DD 23:59:59')\n          : '',\n    };\n    return Object.assign(data, dateData);\n  }\n\n  // 重置\n  private handleReset = () => {\n    this.props.form.resetFields();\n    this.setStatus();\n    this.props.updateFilter();\n  };\n\n  // 发货\n  private sendGood(id) {\n    const { skipCount, pageSize } = this.state;\n    const { pageIndex } = this.props;\n    const formData = this.getSearchData();\n    this.props.sendGood({\n      orderWholeCarId: id,\n      pageIndex,\n      pageSize,\n      skipCount,\n      ...formData,\n    });\n  }\n\n  // 删除\n  private deleOrder(id) {\n    const { skipCount, pageSize } = this.state;\n    const { pageIndex } = this.props;\n    const formData = this.getSearchData();\n    this.props.deleOrder({\n      orderWholeCarId: id,\n      pageIndex,\n      pageSize,\n      skipCount,\n      ...formData,\n    });\n  }\n\n  // 翻页change\n  private paginationChange = params => {\n    const { skipCount, pageSize, current } = params;\n    this.setState({\n      skipCount,\n      pageSize,\n    });\n    this.props.getOrderListData(\n      { pageSize, skipCount },\n      current === 0 ? 1 : current,\n    );\n  };\n}\n\nexport default ({ routeId, actions }) => {\n  const mapDispatchToProps = dispatch => ({\n    getOrderListData: (options, pageIndex) =>\n      dispatch(actions.getOrderListData(options, pageIndex)),\n    updateFilter: data => dispatch(actions.updateFilter(data)),\n    deleOrder: data => dispatch(actions.deleOrder(data)),\n    sendGood: data => dispatch(actions.sendGood(data)),\n    getStatistics: data => dispatch(actions.getStatistics(data)),\n  });\n  const selectState = state => state.get(routeId);\n  const mapStateToProps = createStructuredSelector({\n    error: makeSelectError(selectState),\n    loading: makeSelectLoading(selectState),\n    orderList: makeSelectOrderData(selectState),\n    dataCount: makeSelectDataCount(selectState),\n    pageIndex: makeSelectPageIndex(selectState),\n    statistics: makeSelectStatistics(selectState),\n  });\n\n  const withConnect = connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  );\n\n  return compose(\n    withConnect,\n    Form.create(),\n  )(VehicleOrder);\n};\n","/**\n * VehicleOrder selectors\n * @author lhf\n * @date 2018-9-11 16:31:42\n */\nimport { Map } from 'immutable';\nimport { createSelector } from 'reselect';\n\nexport const makeSelectError = selectState =>\n  createSelector(selectState, (state: Map<string, any>) => {\n    return state ? state.get('error') : '';\n  });\n\nexport const makeSelectLoading = selectState =>\n  createSelector(selectState, (state: Map<string, any>) =>\n    state.get('loading'),\n  );\n\nexport const makeSelectOrderData = selectState =>\n  createSelector(selectState, (state: Map<string, any>) => state.get('data'));\n\nexport const makeSelectDataCount = selectState =>\n  createSelector(selectState, (state: Map<string, any>) =>\n    state.get('dataCount'),\n  );\n\nexport const makeSelectPageIndex = selectState =>\n  createSelector(selectState, (state: Map<string, any>) =>\n    state.get('pageIndex'),\n  );\nexport const makeSelectStatistics = selectState =>\n  createSelector(selectState, (state: Map<string, any>) =>\n    state.get('statistics'),\n  );\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VehicleOrder\":\"_22qjn\",\"TopCard\":\"_36lP1\",\"CardSingle\":\"_1Qg4d\",\"CardSingle_label\":\"PDDyd\",\"CardSingle_value\":\"_2wQMm\",\"SelectBar\":\"_3bZ6S\"};"],"sourceRoot":""}